2025-09-20 01:47:33.181 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 01:47:33.416 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 01:47:33.445 +09:00 [INF] Now listening on: http://localhost:5241
2025-09-20 01:47:33.450 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 01:47:33.451 +09:00 [INF] Hosting environment: Development
2025-09-20 01:47:33.453 +09:00 [INF] Content root path: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server
2025-09-20 01:47:34.297 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 01:47:34.482 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 185.3684ms
2025-09-20 01:47:34.574 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 01:47:34.574 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 01:47:34.588 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.8218ms
2025-09-20 01:47:34.604 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.4356ms
2025-09-20 01:47:34.648 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 01:47:34.767 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.2642ms
2025-09-20 01:47:37.404 +09:00 [INF] No SPA development server running at https://localhost:50742 found.
2025-09-20 01:47:42.724 +09:00 [INF] SPA development server running at 'https://localhost:50742'
2025-09-20 01:47:45.947 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/api/User/GetCurrentUser - null null
2025-09-20 01:47:45.958 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 01:47:45.979 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 01:47:47.613 +09:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 01:47:47.675 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 01:47:47.755 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 1769.8144ms
2025-09-20 01:47:47.759 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 01:47:47.766 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/api/User/GetCurrentUser - 200 null application/json; charset=utf-8 1819.0051ms
2025-09-20 01:49:27.931 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/api/User/GetCurrentUser - null null
2025-09-20 01:49:27.944 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 01:49:27.946 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 01:49:55.207 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 01:49:55.210 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 01:49:55.212 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 27263.7955ms
2025-09-20 01:49:55.214 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 01:49:55.215 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/api/User/GetCurrentUser - 200 null application/json; charset=utf-8 27284.295ms
2025-09-20 01:50:32.118 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 01:50:32.129 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 11.1931ms
2025-09-20 01:50:32.191 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 01:50:32.192 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 01:50:32.196 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.7885ms
2025-09-20 01:50:32.225 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.4468ms
2025-09-20 01:50:32.288 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 01:50:32.305 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.0873ms
2025-09-20 01:50:42.071 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/api/User/GetCurrentUser - null null
2025-09-20 01:50:42.077 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 01:50:42.081 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 01:50:44.214 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 01:50:45.113 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 01:50:45.921 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 01:50:45.923 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 01:50:45.925 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 01:50:45.928 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 3843.7086ms
2025-09-20 01:50:45.930 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 01:50:45.932 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/api/User/GetCurrentUser - 200 null application/json; charset=utf-8 3860.992ms
2025-09-20 15:08:45.108 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 15:08:45.447 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 15:08:45.488 +09:00 [INF] Now listening on: http://localhost:5241
2025-09-20 15:08:45.493 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 15:08:45.495 +09:00 [INF] Hosting environment: Development
2025-09-20 15:08:45.497 +09:00 [INF] Content root path: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server
2025-09-20 15:08:47.042 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 15:08:47.232 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 190.3074ms
2025-09-20 15:08:47.331 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 15:08:47.331 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 15:08:47.345 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.239ms
2025-09-20 15:08:47.368 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.8458ms
2025-09-20 15:08:47.419 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 15:08:47.576 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.4515ms
2025-09-20 15:08:49.402 +09:00 [INF] No SPA development server running at https://localhost:50742 found.
2025-09-20 15:08:54.745 +09:00 [INF] SPA development server running at 'https://localhost:50742'
2025-09-20 15:09:01.500 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 15:09:01.511 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 15:09:01.535 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 15:09:02.320 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 15:09:02.323 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 15:09:03.400 +09:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 15:09:03.455 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 15:09:03.461 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 15:09:03.503 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 1960.6174ms
2025-09-20 15:09:03.506 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 15:09:03.514 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 2013.9986ms
2025-09-20 15:09:05.184 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 15:09:05.191 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 15:09:05.196 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 15:09:05.316 +09:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 15:09:05.325 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:05.334 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 134.5977ms
2025-09-20 15:09:05.337 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 15:09:05.339 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 155.035ms
2025-09-20 15:09:11.182 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 15:09:11.189 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 15:09:11.192 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 15:09:11.197 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 15:09:11.198 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 15:09:11.246 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 15:09:11.250 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 15:09:11.251 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 15:09:11.253 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 58.0926ms
2025-09-20 15:09:11.255 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 15:09:11.256 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 74.2836ms
2025-09-20 15:09:12.638 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 15:09:12.643 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 15:09:12.645 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 15:09:12.655 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 15:09:12.657 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 15:09:12.663 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 15:09:12.667 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 15:09:12.670 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 15:09:12.671 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 21.9585ms
2025-09-20 15:09:12.673 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 15:09:12.674 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 36.6297ms
2025-09-20 15:09:14.172 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - null null
2025-09-20 15:09:14.178 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:14.182 +09:00 [INF] Route matched with {action = "Get", controller = "TaskCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskCategoryController (SkillTrail.Server).
2025-09-20 15:09:14.197 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [TaskCategories] AS [t]
ORDER BY [t].[Order]
2025-09-20 15:09:14.213 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.TaskCategory, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:14.219 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server) in 34.2801ms
2025-09-20 15:09:14.222 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:14.224 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - 200 null application/json; charset=utf-8 51.6199ms
2025-09-20 15:09:14.247 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 15:09:14.251 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:14.255 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 15:09:14.271 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 15:09:14.283 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:14.288 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 30.239ms
2025-09-20 15:09:14.290 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:14.291 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 44.5793ms
2025-09-20 15:09:17.668 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/group/get - application/json null
2025-09-20 15:09:17.673 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 15:09:17.680 +09:00 [INF] Route matched with {action = "Get", controller = "Group"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.GroupController (SkillTrail.Server).
2025-09-20 15:09:17.697 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[UpdateDateTime], [g].[UpdateUserId]
FROM [Groups] AS [g]
2025-09-20 15:09:17.707 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Group, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:17.711 +09:00 [INF] Executed action SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server) in 27.2139ms
2025-09-20 15:09:17.713 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 15:09:17.715 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/group/get - 200 null application/json; charset=utf-8 46.9201ms
2025-09-20 15:09:18.155 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - null null
2025-09-20 15:09:18.155 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 15:09:18.160 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:18.165 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:18.165 +09:00 [INF] Route matched with {action = "Get", controller = "TaskCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskCategoryController (SkillTrail.Server).
2025-09-20 15:09:18.167 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 15:09:18.175 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [TaskCategories] AS [t]
ORDER BY [t].[Order]
2025-09-20 15:09:18.184 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.TaskCategory, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:18.187 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server) in 15.8769ms
2025-09-20 15:09:18.189 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:18.195 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 15:09:18.195 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - 200 null application/json; charset=utf-8 40.5315ms
2025-09-20 15:09:18.199 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:18.205 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 30.6333ms
2025-09-20 15:09:18.208 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:18.210 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 55.2504ms
2025-09-20 15:09:18.655 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 15:09:18.661 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 15:09:18.664 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 15:09:18.668 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 15:09:18.690 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 15:09:18.695 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 15:09:18.696 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:18.700 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 33.3933ms
2025-09-20 15:09:18.702 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 15:09:18.704 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 49.0705ms
2025-09-20 15:09:20.786 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - null null
2025-09-20 15:09:20.786 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 15:09:20.796 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:20.799 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:20.800 +09:00 [INF] Route matched with {action = "Get", controller = "TaskCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskCategoryController (SkillTrail.Server).
2025-09-20 15:09:20.802 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 15:09:20.808 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [TaskCategories] AS [t]
ORDER BY [t].[Order]
2025-09-20 15:09:20.813 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 15:09:20.813 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.TaskCategory, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:20.816 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:20.817 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server) in 13.004ms
2025-09-20 15:09:20.818 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 12.1214ms
2025-09-20 15:09:20.820 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:20.822 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:20.823 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - 200 null application/json; charset=utf-8 37.9384ms
2025-09-20 15:09:20.825 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 39.2042ms
2025-09-20 15:09:52.773 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - null null
2025-09-20 15:09:52.774 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 15:09:52.779 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:52.783 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:52.784 +09:00 [INF] Route matched with {action = "Get", controller = "TaskCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskCategoryController (SkillTrail.Server).
2025-09-20 15:09:52.786 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 15:09:52.792 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [TaskCategories] AS [t]
ORDER BY [t].[Order]
2025-09-20 15:09:52.795 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 15:09:52.796 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.TaskCategory, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:52.799 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:09:52.800 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server) in 11.6732ms
2025-09-20 15:09:52.802 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 9.8186ms
2025-09-20 15:09:52.804 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 15:09:52.806 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 15:09:52.808 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - 200 null application/json; charset=utf-8 34.8183ms
2025-09-20 15:09:52.810 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 36.2643ms
2025-09-20 23:24:41.124 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 23:24:41.409 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 23:24:41.440 +09:00 [INF] Now listening on: http://localhost:5241
2025-09-20 23:24:41.444 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 23:24:41.446 +09:00 [INF] Hosting environment: Development
2025-09-20 23:24:41.448 +09:00 [INF] Content root path: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server
2025-09-20 23:24:45.378 +09:00 [INF] No SPA development server running at https://localhost:50742 found.
2025-09-20 23:24:50.772 +09:00 [INF] SPA development server running at 'https://localhost:50742'
2025-09-20 23:25:05.930 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 23:25:06.201 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 274.4114ms
2025-09-20 23:25:06.224 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 23:25:06.233 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 10.5495ms
2025-09-20 23:25:06.265 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 23:25:06.312 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.1884ms
2025-09-20 23:25:06.366 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 23:25:06.491 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.3971ms
2025-09-20 23:25:46.861 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/api/User/GetTrainee/"" - null null
2025-09-20 23:25:46.879 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetTrainee (SkillTrail.Server)'
2025-09-20 23:25:46.916 +09:00 [INF] Route matched with {action = "GetTrainee", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTrainee(System.String) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:25:47.688 +09:00 [INF] 新人一覧取得を開始
2025-09-20 23:25:48.733 +09:00 [INF] Executed DbCommand (53ms) [Parameters=[@__groupId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Role] = 1 AND [u].[GroupId] = @__groupId_0
2025-09-20 23:25:48.753 +09:00 [INF] 新人一覧を取得: 0件
2025-09-20 23:25:48.760 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:25:48.788 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetTrainee (SkillTrail.Server) in 1864.6045ms
2025-09-20 23:25:48.792 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetTrainee (SkillTrail.Server)'
2025-09-20 23:25:48.799 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/api/User/GetTrainee/"" - 200 null application/json; charset=utf-8 1938.5534ms
2025-09-20 23:26:02.315 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 23:26:02.321 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:26:02.328 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:26:02.334 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 23:26:02.337 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 23:26:02.366 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 23:26:02.408 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 23:26:02.410 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 23:26:02.422 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 90.9782ms
2025-09-20 23:26:02.425 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:26:02.427 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 112.8042ms
2025-09-20 23:26:05.083 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:26:05.089 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:26:05.096 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:26:05.107 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:26:05.212 +09:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:26:05.216 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:26:05.218 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:26:05.222 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 122.2397ms
2025-09-20 23:26:05.224 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:26:05.226 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 143.1513ms
2025-09-20 23:27:53.309 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:27:53.318 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:27:53.320 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:27:53.322 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:27:53.331 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:27:53.334 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:27:53.335 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:27:53.337 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 14.8241ms
2025-09-20 23:27:53.339 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:27:53.341 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 32.8374ms
2025-09-20 23:27:57.757 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryq9DbBujQJuhFO6mC 1150
2025-09-20 23:27:57.761 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:27:57.766 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:27:57.793 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:27:57.797 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:27:57.803 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:27:57.807 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:27:57.957 +09:00 [ERR] Failed executing DbCommand (43ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:27:58.028 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:27:58.042 +09:00 [ERR] ユーザーのインポートに失敗: user_template (5).csv
2025-09-20 23:27:58.044 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:27:58.047 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 277.0339ms
2025-09-20 23:27:58.049 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:27:58.051 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 293.953ms
2025-09-20 23:27:58.061 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:27:58.065 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:27:58.066 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:27:58.069 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:27:58.073 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:27:58.076 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:27:58.077 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:27:58.079 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 9.933ms
2025-09-20 23:27:58.081 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:27:58.082 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 20.8524ms
2025-09-20 23:27:59.446 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryTuxwhVnSb5PtBaW2 1150
2025-09-20 23:27:59.450 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:27:59.452 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:27:59.455 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:27:59.457 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:27:59.458 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:27:59.460 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:27:59.470 +09:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:27:59.476 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:27:59.486 +09:00 [ERR] ユーザーのインポートに失敗: user_template (5).csv
2025-09-20 23:27:59.488 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:27:59.489 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 35.4371ms
2025-09-20 23:27:59.492 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:27:59.494 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 47.8898ms
2025-09-20 23:27:59.503 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:27:59.506 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:27:59.508 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:27:59.511 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:27:59.514 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:27:59.518 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:27:59.519 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:27:59.521 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 10.234ms
2025-09-20 23:27:59.523 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:27:59.524 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 20.7703ms
2025-09-20 23:28:00.278 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryVTAxBIzKQgIKiLV4 1150
2025-09-20 23:28:00.283 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:28:00.284 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:00.287 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:28:00.288 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:28:00.290 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:28:00.293 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:28:00.308 +09:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:28:00.314 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:28:00.323 +09:00 [ERR] ユーザーのインポートに失敗: user_template (5).csv
2025-09-20 23:28:00.325 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:28:00.327 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 40.7119ms
2025-09-20 23:28:00.329 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:28:00.330 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 52.1728ms
2025-09-20 23:28:00.341 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:28:00.345 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:00.347 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:00.351 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:28:00.354 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:28:00.358 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:28:00.360 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:28:00.362 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 11.5363ms
2025-09-20 23:28:00.364 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:00.365 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 24.2649ms
2025-09-20 23:28:01.070 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryNizPl2XlP0lccrRM 1150
2025-09-20 23:28:01.074 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:28:01.075 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:01.078 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:28:01.080 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:28:01.082 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:28:01.084 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:28:01.093 +09:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:28:01.100 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:28:01.111 +09:00 [ERR] ユーザーのインポートに失敗: user_template (5).csv
2025-09-20 23:28:01.112 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:28:01.114 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 36.8843ms
2025-09-20 23:28:01.117 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:28:01.119 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 48.7229ms
2025-09-20 23:28:01.129 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:28:01.135 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:01.136 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:01.139 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:28:01.142 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:28:01.147 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:28:01.148 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:28:01.150 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 11.3115ms
2025-09-20 23:28:01.152 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:01.153 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 23.923ms
2025-09-20 23:28:10.682 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryN5AMNzNNDy6kaq0d 1150
2025-09-20 23:28:10.687 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:28:10.690 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:16.555 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:28:19.341 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:28:19.343 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:28:31.666 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:28:37.729 +09:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:28:37.736 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:28:37.745 +09:00 [ERR] ユーザーのインポートに失敗: user_template (5).csv
2025-09-20 23:28:37.747 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:28:37.748 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 27055.1344ms
2025-09-20 23:28:37.751 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:28:37.753 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 27070.4987ms
2025-09-20 23:28:37.763 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:28:37.768 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:37.770 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:37.773 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:28:37.779 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:28:37.782 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:28:37.784 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:28:37.786 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 13.6771ms
2025-09-20 23:28:37.789 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:37.791 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 27.1129ms
2025-09-20 23:28:42.348 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 23:28:42.375 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:28:42.378 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:42.383 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 23:28:42.387 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 23:28:42.396 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 23:28:42.401 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 23:28:42.403 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 23:28:42.406 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 23.4302ms
2025-09-20 23:28:42.409 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:28:42.411 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 63.5022ms
2025-09-20 23:28:42.439 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:28:42.442 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:42.444 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:42.446 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:28:42.449 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:28:42.453 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:28:42.454 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:28:42.456 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 9.7193ms
2025-09-20 23:28:42.458 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:42.459 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 20.2525ms
2025-09-20 23:28:43.600 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 23:28:43.618 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:28:43.621 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:43.628 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 23:28:43.630 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 23:28:43.636 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 23:28:43.642 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 23:28:43.644 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 23:28:43.646 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 18.0104ms
2025-09-20 23:28:43.648 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:28:43.651 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 51.3081ms
2025-09-20 23:28:43.670 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:28:43.674 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:43.675 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:43.677 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:28:43.682 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:28:43.684 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:28:43.686 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:28:43.687 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 10.3216ms
2025-09-20 23:28:43.689 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:43.690 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 20.6659ms
2025-09-20 23:28:44.688 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 23:28:44.693 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:28:44.695 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:44.698 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 23:28:44.700 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 23:28:44.711 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 23:28:44.716 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 23:28:44.717 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 23:28:44.719 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 21.1526ms
2025-09-20 23:28:44.721 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:28:44.723 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 35.0726ms
2025-09-20 23:28:44.742 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:28:44.746 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:44.747 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:44.750 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:28:44.755 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:28:44.758 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:28:44.759 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:28:44.761 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 10.9506ms
2025-09-20 23:28:44.763 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:28:44.764 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 22.2331ms
2025-09-20 23:28:49.997 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundary26sj7PoHGJhXQE2P 1150
2025-09-20 23:28:50.001 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:28:50.003 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:28:54.471 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:28:54.894 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:28:54.897 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:28:59.378 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:29:36.842 +09:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:29:36.848 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:29:50.414 +09:00 [ERR] ユーザーのインポートに失敗: user_template (5).csv
2025-09-20 23:29:50.416 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:29:50.418 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 60412.9685ms
2025-09-20 23:29:50.420 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:29:50.423 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 60426.0687ms
2025-09-20 23:29:50.432 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:29:50.436 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:29:50.438 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:29:50.441 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:29:50.446 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:29:50.450 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:29:50.451 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:29:50.453 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 11.9883ms
2025-09-20 23:29:50.454 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:29:50.456 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 23.2498ms
2025-09-20 23:29:55.199 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryzoSe09s03XQJVZ7g 1150
2025-09-20 23:29:55.204 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:29:55.205 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:29:57.286 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:29:57.288 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:29:57.290 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:29:57.292 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:29:57.929 +09:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:29:57.936 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:29:57.945 +09:00 [ERR] ユーザーのインポートに失敗: user_template (5).csv
2025-09-20 23:29:57.947 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:29:57.949 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 2740.058ms
2025-09-20 23:29:57.950 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:29:57.952 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 2752.8967ms
2025-09-20 23:29:57.962 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:29:57.966 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:29:57.968 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:29:57.971 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:29:57.976 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:29:57.980 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:29:57.982 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:29:57.984 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 12.8973ms
2025-09-20 23:29:57.986 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:29:57.988 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 26.1102ms
2025-09-20 23:30:50.621 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 23:30:50.636 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 15.4249ms
2025-09-20 23:30:50.703 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 23:30:50.709 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.7389ms
2025-09-20 23:30:50.710 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 23:30:50.748 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.2468ms
2025-09-20 23:30:50.818 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 23:30:50.838 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.1317ms
2025-09-20 23:30:57.729 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryb6jjyFzRtQi3AFex 1150
2025-09-20 23:30:57.735 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:30:57.740 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:30:57.744 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:30:57.745 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:30:57.747 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:30:57.750 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:30:57.769 +09:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:30:57.779 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:30:57.991 +09:00 [ERR] ユーザーCSVインポート中に例外が発生: user_template (5).csv
System.InvalidOperationException: ユーザーの追加中にエラーが発生しました
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   --- End of inner exception stack trace ---
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   at SkillTrail.Biz.ApplicationServices.UserApplicationService.ImportAsync(Stream stream, String fileName) in D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Biz\ApplicationServices\UserApplicationService.cs:line 271
2025-09-20 23:30:58.022 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:30:58.025 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 281.5877ms
2025-09-20 23:30:58.027 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:30:58.028 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 299.2782ms
2025-09-20 23:30:58.037 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:30:58.042 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:30:58.046 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:30:58.049 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:30:58.054 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:30:58.057 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:30:58.058 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:30:58.061 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 12.0105ms
2025-09-20 23:30:58.063 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:30:58.064 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 27.4973ms
2025-09-20 23:31:16.973 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundarybbAW9vVucKbBPt4B 1150
2025-09-20 23:31:16.978 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:31:16.980 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:31:16.984 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:31:16.985 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:31:16.987 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:31:16.988 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:31:21.466 +09:00 [ERR] Failed executing DbCommand (37ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:31:21.472 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:31:31.302 +09:00 [ERR] ユーザーCSVインポート中に例外が発生: user_template (5).csv
System.InvalidOperationException: ユーザーの追加中にエラーが発生しました
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   --- End of inner exception stack trace ---
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   at SkillTrail.Biz.ApplicationServices.UserApplicationService.ImportAsync(Stream stream, String fileName) in D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Biz\ApplicationServices\UserApplicationService.cs:line 271
2025-09-20 23:31:31.313 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:31:31.315 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 14331.7137ms
2025-09-20 23:31:31.317 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:31:31.319 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 14345.2637ms
2025-09-20 23:31:31.329 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:31:31.334 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:31:31.336 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:31:31.340 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:31:31.345 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:31:31.349 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:31:31.351 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:31:31.354 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 14.4903ms
2025-09-20 23:31:31.356 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:31:31.358 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 29.7371ms
2025-09-20 23:31:33.434 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryGDKhXJAqI1EjEquF 1150
2025-09-20 23:31:33.439 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:31:33.441 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:31:33.444 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:31:33.445 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:31:33.446 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:31:33.448 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:31:49.736 +09:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:31:49.743 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:31:49.918 +09:00 [ERR] ユーザーCSVインポート中に例外が発生: user_template (5).csv
System.InvalidOperationException: ユーザーの追加中にエラーが発生しました
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): INSERT ステートメントは FOREIGN KEY 制約 "FK_Users_Groups_GroupId" と競合しています。競合が発生したのは、データベース "SkillTrail"、テーブル "dbo.Groups", column 'Id' です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 547、State: 0、Class: 16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   --- End of inner exception stack trace ---
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   at SkillTrail.Biz.ApplicationServices.UserApplicationService.ImportAsync(Stream stream, String fileName) in D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Biz\ApplicationServices\UserApplicationService.cs:line 271
2025-09-20 23:31:49.930 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:31:49.932 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 16488.0066ms
2025-09-20 23:31:49.933 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:31:49.935 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 16501.2062ms
2025-09-20 23:31:49.964 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:31:49.968 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:31:49.970 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:31:49.973 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:31:49.978 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:31:49.981 +09:00 [INF] ユーザー一覧を取得: 1件
2025-09-20 23:31:49.983 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:31:49.985 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 12.2731ms
2025-09-20 23:31:49.987 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:31:49.989 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 25.5878ms
2025-09-20 23:32:36.625 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 23:32:36.638 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 12.3139ms
2025-09-20 23:32:36.661 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 23:32:36.667 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 23:32:36.694 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 26.7062ms
2025-09-20 23:32:36.699 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.1925ms
2025-09-20 23:32:36.786 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 23:32:36.803 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.2366ms
2025-09-20 23:32:42.435 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundarysgRSjI3ejIRJQKd5 1150
2025-09-20 23:32:42.441 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:32:42.446 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:32:42.451 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:32:42.453 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:32:42.455 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:32:42.457 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:32:49.586 +09:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:32:51.514 +09:00 [INF] ユーザーCSVインポートが完了: user_template (5).csv, 25件
2025-09-20 23:32:51.518 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:32:51.521 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 9071.1397ms
2025-09-20 23:32:51.523 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:32:51.525 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 9089.6911ms
2025-09-20 23:32:51.534 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:32:51.539 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:32:51.543 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:32:51.547 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:32:51.555 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:32:51.558 +09:00 [INF] ユーザー一覧を取得: 26件
2025-09-20 23:32:51.560 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:32:51.563 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 16.0817ms
2025-09-20 23:32:51.565 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:32:51.567 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 32.5542ms
2025-09-20 23:32:57.551 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/import - multipart/form-data; boundary=----WebKitFormBoundaryeRl7xKx1QLyRmXuk 1150
2025-09-20 23:32:57.556 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:32:57.557 +09:00 [INF] Route matched with {action = "Import", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Import(Microsoft.AspNetCore.Http.IFormFile) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:32:57.560 +09:00 [INF] ユーザーCSVインポートを開始: user_template (5).csv
2025-09-20 23:32:57.562 +09:00 [INF] CSVインポート処理開始: user_template (5).csv
2025-09-20 23:32:57.564 +09:00 [INF] CSVインポート処理完了: user_template (5).csv, 処理済み 25件, 総行数 25行
2025-09-20 23:32:57.566 +09:00 [INF] CSVから25件のユーザーを読み込み: user_template (5).csv
2025-09-20 23:33:00.305 +09:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 450), @p13='?' (Size = 450), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 450), @p25='?' (Size = 450), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (Size = 450), @p31='?' (Size = 450), @p32='?' (Size = 4000), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 450), @p37='?' (Size = 450), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 4000), @p42='?' (Size = 450), @p43='?' (Size = 450), @p44='?' (Size = 4000), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (Size = 4000), @p51='?' (DbType = Int32), @p52='?' (DbType = DateTime2), @p53='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (Size = 450), @p56='?' (Size = 4000), @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime2), @p59='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (Size = 450), @p62='?' (Size = 4000), @p63='?' (DbType = Int32), @p64='?' (DbType = DateTime2), @p65='?' (Size = 4000), @p66='?' (Size = 450), @p67='?' (Size = 450), @p68='?' (Size = 4000), @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 450), @p73='?' (Size = 450), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (Size = 450), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 4000), @p84='?' (Size = 450), @p85='?' (Size = 450), @p86='?' (Size = 4000), @p87='?' (DbType = Int32), @p88='?' (DbType = DateTime2), @p89='?' (Size = 4000), @p90='?' (Size = 450), @p91='?' (Size = 450), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime2), @p95='?' (Size = 4000), @p96='?' (Size = 450), @p97='?' (Size = 450), @p98='?' (Size = 4000), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Size = 4000), @p102='?' (Size = 450), @p103='?' (Size = 450), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 4000), @p108='?' (Size = 450), @p109='?' (Size = 450), @p110='?' (Size = 4000), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Size = 4000), @p114='?' (Size = 450), @p115='?' (Size = 450), @p116='?' (Size = 4000), @p117='?' (DbType = Int32), @p118='?' (DbType = DateTime2), @p119='?' (Size = 4000), @p120='?' (Size = 450), @p121='?' (Size = 450), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 4000), @p126='?' (Size = 450), @p127='?' (Size = 450), @p128='?' (Size = 4000), @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime2), @p131='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (Size = 450), @p134='?' (Size = 4000), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 4000), @p138='?' (Size = 450), @p139='?' (Size = 450), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (Size = 4000), @p144='?' (Size = 450), @p145='?' (Size = 450), @p146='?' (Size = 4000), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [GroupId], [Name], [Role], [UpdateDateTime], [UpdateUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5),
(@p6, @p7, @p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51, @p52, @p53),
(@p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99, @p100, @p101),
(@p102, @p103, @p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111, @p112, @p113),
(@p114, @p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124, @p125),
(@p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137),
(@p138, @p139, @p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147, @p148, @p149);
2025-09-20 23:33:00.312 +09:00 [ERR] An exception occurred in the database while saving changes for context type 'SkillTrail.Data.DbContexts.SkillTrailDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 制約 'PK_Users' の PRIMARY KEY 違反。オブジェクト 'dbo.Users' には重複するキーを挿入できません。重複するキーの値は (Test-user-1) です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 2627、State: 1、Class: 14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 制約 'PK_Users' の PRIMARY KEY 違反。オブジェクト 'dbo.Users' には重複するキーを挿入できません。重複するキーの値は (Test-user-1) です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 2627、State: 1、Class: 14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-20 23:33:00.476 +09:00 [ERR] ユーザーCSVインポート中に例外が発生: user_template (5).csv
System.InvalidOperationException: ユーザーの追加中にエラーが発生しました
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): 制約 'PK_Users' の PRIMARY KEY 違反。オブジェクト 'dbo.Users' には重複するキーを挿入できません。重複するキーの値は (Test-user-1) です。
ステートメントは終了されました。
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b073b288-79c3-4e22-b007-0616ea1c79b7
Error Number: 2627、State: 1、Class: 14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   --- End of inner exception stack trace ---
   at SkillTrail.Data.Repositories.UserRepository.AddRangeAsync(IList`1 users)
   at SkillTrail.Biz.ApplicationServices.UserApplicationService.ImportAsync(Stream stream, String fileName) in D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Biz\ApplicationServices\UserApplicationService.cs:line 271
2025-09-20 23:33:00.486 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:33:00.488 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server) in 2928.1022ms
2025-09-20 23:33:00.490 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Import (SkillTrail.Server)'
2025-09-20 23:33:00.492 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/import - 200 null application/json; charset=utf-8 2940.4645ms
2025-09-20 23:33:00.501 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:33:00.504 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:33:00.506 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:33:00.508 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:33:00.513 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:33:00.516 +09:00 [INF] ユーザー一覧を取得: 26件
2025-09-20 23:33:00.518 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:33:00.519 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 11.2159ms
2025-09-20 23:33:00.521 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:33:00.523 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 22.4853ms
2025-09-20 23:33:18.403 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 23:33:18.408 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:33:18.423 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:33:18.426 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 23:33:18.428 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 23:33:18.435 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 23:33:18.439 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 23:33:18.442 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 23:33:18.446 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 20.1446ms
2025-09-20 23:33:18.449 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:33:18.451 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 47.6452ms
2025-09-20 23:33:44.295 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/group/get - application/json null
2025-09-20 23:33:44.300 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:33:44.304 +09:00 [INF] Route matched with {action = "Get", controller = "Group"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.GroupController (SkillTrail.Server).
2025-09-20 23:33:44.330 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[UpdateDateTime], [g].[UpdateUserId]
FROM [Groups] AS [g]
2025-09-20 23:33:44.340 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Group, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:33:44.344 +09:00 [INF] Executed action SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server) in 36.3561ms
2025-09-20 23:33:44.346 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:33:44.348 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/group/get - 200 null application/json; charset=utf-8 53.3269ms
2025-09-20 23:33:44.759 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - null null
2025-09-20 23:33:44.764 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 23:33:44.769 +09:00 [INF] Route matched with {action = "Get", controller = "TaskCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskCategoryController (SkillTrail.Server).
2025-09-20 23:33:44.803 +09:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [TaskCategories] AS [t]
ORDER BY [t].[Order]
2025-09-20 23:33:44.819 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.TaskCategory, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:33:44.825 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server) in 52.8495ms
2025-09-20 23:33:44.827 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 23:33:44.829 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - 200 null application/json; charset=utf-8 70.6692ms
2025-09-20 23:33:44.860 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 23:33:44.866 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:33:44.870 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 23:33:44.895 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:33:44.909 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:33:44.913 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 40.1064ms
2025-09-20 23:33:44.915 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:33:44.918 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 57.0798ms
2025-09-20 23:33:45.053 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:33:45.058 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:33:45.059 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:33:45.062 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:33:45.068 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:33:45.072 +09:00 [INF] ユーザー一覧を取得: 26件
2025-09-20 23:33:45.074 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:33:45.076 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 14.0494ms
2025-09-20 23:33:45.078 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:33:45.080 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 27.2267ms
2025-09-20 23:33:50.410 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/group/get - application/json null
2025-09-20 23:33:50.415 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:33:50.416 +09:00 [INF] Route matched with {action = "Get", controller = "Group"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.GroupController (SkillTrail.Server).
2025-09-20 23:33:50.425 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[UpdateDateTime], [g].[UpdateUserId]
FROM [Groups] AS [g]
2025-09-20 23:33:50.427 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Group, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:33:50.429 +09:00 [INF] Executed action SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server) in 9.5502ms
2025-09-20 23:33:50.431 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:33:50.432 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/group/get - 200 null application/json; charset=utf-8 22.1517ms
2025-09-20 23:33:57.041 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/group/get - application/json null
2025-09-20 23:33:57.046 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:33:57.047 +09:00 [INF] Route matched with {action = "Get", controller = "Group"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.GroupController (SkillTrail.Server).
2025-09-20 23:33:57.585 +09:00 [INF] Executed DbCommand (533ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[UpdateDateTime], [g].[UpdateUserId]
FROM [Groups] AS [g]
2025-09-20 23:33:57.589 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Group, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:33:57.591 +09:00 [INF] Executed action SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server) in 541.1128ms
2025-09-20 23:33:57.593 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:33:57.595 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/group/get - 200 null application/json; charset=utf-8 553.4323ms
2025-09-20 23:34:03.480 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/update - application/json 122
2025-09-20 23:34:03.485 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Update (SkillTrail.Server)'
2025-09-20 23:34:03.489 +09:00 [INF] Route matched with {action = "Update", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(SkillTrail.Biz.Entites.User) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:34:03.510 +09:00 [INF] ユーザー更新を開始: Test-user-1, テストユーザ1
2025-09-20 23:34:03.522 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__user_Id_0
2025-09-20 23:34:03.541 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [GroupId] = @p0, [UpdateDateTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-20 23:34:03.548 +09:00 [INF] ユーザーを正常に更新: Test-user-1, テストユーザ1
2025-09-20 23:34:03.550 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:34:03.552 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Update (SkillTrail.Server) in 60.3432ms
2025-09-20 23:34:03.554 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Update (SkillTrail.Server)'
2025-09-20 23:34:03.555 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/update - 200 null application/json; charset=utf-8 75.2914ms
2025-09-20 23:34:03.640 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:34:03.644 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:34:03.645 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:34:03.648 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:34:03.653 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:34:03.656 +09:00 [INF] ユーザー一覧を取得: 26件
2025-09-20 23:34:03.658 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:34:03.659 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 11.7001ms
2025-09-20 23:34:03.661 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:34:03.664 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 23.9658ms
2025-09-20 23:34:06.309 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/group/get - application/json null
2025-09-20 23:34:06.313 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:34:06.315 +09:00 [INF] Route matched with {action = "Get", controller = "Group"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.GroupController (SkillTrail.Server).
2025-09-20 23:34:06.320 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[UpdateDateTime], [g].[UpdateUserId]
FROM [Groups] AS [g]
2025-09-20 23:34:06.324 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Group, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:34:06.326 +09:00 [INF] Executed action SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server) in 7.9952ms
2025-09-20 23:34:06.327 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:34:06.330 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/group/get - 200 null application/json; charset=utf-8 20.698ms
2025-09-20 23:34:09.881 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/user/update - application/json 124
2025-09-20 23:34:09.885 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Update (SkillTrail.Server)'
2025-09-20 23:34:09.887 +09:00 [INF] Route matched with {action = "Update", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(SkillTrail.Biz.Entites.User) on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:34:09.890 +09:00 [INF] ユーザー更新を開始: Test-user-10, テストユーザ10
2025-09-20 23:34:09.895 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__user_Id_0
2025-09-20 23:34:09.903 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [GroupId] = @p0, [UpdateDateTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-20 23:34:09.906 +09:00 [INF] ユーザーを正常に更新: Test-user-10, テストユーザ10
2025-09-20 23:34:09.908 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:34:09.909 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Update (SkillTrail.Server) in 20.7358ms
2025-09-20 23:34:09.911 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Update (SkillTrail.Server)'
2025-09-20 23:34:09.913 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/user/update - 200 null application/json; charset=utf-8 32.0944ms
2025-09-20 23:34:10.035 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:34:10.040 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:34:10.041 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:34:10.044 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:34:10.049 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:34:10.052 +09:00 [INF] ユーザー一覧を取得: 26件
2025-09-20 23:34:10.053 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:34:10.055 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 10.7334ms
2025-09-20 23:34:10.056 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:34:10.058 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 23.2431ms
2025-09-20 23:35:32.267 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:35:32.279 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:35:32.291 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:35:32.371 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:35:32.380 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:35:32.388 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 93.8054ms
2025-09-20 23:35:32.391 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:35:32.392 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 125.3518ms
2025-09-20 23:36:04.031 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:36:04.040 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:36:04.042 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:36:04.257 +09:00 [INF] Executed DbCommand (212ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:36:04.263 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:36:04.266 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 222.6894ms
2025-09-20 23:36:04.269 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:36:04.271 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 239.9314ms
2025-09-20 23:36:35.334 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/progress/update - application/json 112
2025-09-20 23:36:35.338 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:36:35.343 +09:00 [INF] Route matched with {action = "Update", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(SkillTrail.Server.Controllers.UpdateProgressRequest) on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:36:35.366 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[@__taskId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__taskId_0 AND [p].[UserId] = @__userId_1
2025-09-20 23:36:35.387 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__progress_TaskId_0='?' (Size = 450), @__progress_UserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__progress_TaskId_0 AND [p].[UserId] = @__progress_UserId_1
2025-09-20 23:36:35.400 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Progresses] SET [Status] = @p0, [UpdateDateTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-20 23:36:35.404 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:36:35.407 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server) in 60.7748ms
2025-09-20 23:36:35.409 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:36:35.411 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/progress/update - 200 null application/json; charset=utf-8 76.6036ms
2025-09-20 23:36:35.423 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:36:35.432 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:36:35.434 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:36:35.442 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:36:35.445 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:36:35.447 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 10.6274ms
2025-09-20 23:36:35.449 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:36:35.451 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 27.2231ms
2025-09-20 23:36:37.168 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/progress/update - application/json 112
2025-09-20 23:36:37.172 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:36:37.174 +09:00 [INF] Route matched with {action = "Update", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(SkillTrail.Server.Controllers.UpdateProgressRequest) on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:36:37.178 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__taskId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__taskId_0 AND [p].[UserId] = @__userId_1
2025-09-20 23:36:37.183 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__progress_TaskId_0='?' (Size = 450), @__progress_UserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__progress_TaskId_0 AND [p].[UserId] = @__progress_UserId_1
2025-09-20 23:36:37.188 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Progresses] SET [Status] = @p0, [UpdateDateTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-20 23:36:37.191 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:36:37.193 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server) in 16.9082ms
2025-09-20 23:36:37.195 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:36:37.196 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/progress/update - 200 null application/json; charset=utf-8 28.2937ms
2025-09-20 23:36:37.206 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:36:37.211 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:36:37.212 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:36:37.218 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:36:37.222 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:36:37.225 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 9.9728ms
2025-09-20 23:36:37.227 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:36:37.228 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 22.2793ms
2025-09-20 23:48:01.819 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 23:48:02.114 +09:00 [WRN] The WebRootPath was not found: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server\wwwroot. Static files may be unavailable.
2025-09-20 23:48:02.144 +09:00 [INF] Now listening on: http://localhost:5241
2025-09-20 23:48:02.149 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 23:48:02.152 +09:00 [INF] Hosting environment: Development
2025-09-20 23:48:02.153 +09:00 [INF] Content root path: D:\hinodaichi\Programing\VisualStudio\repos\SkillTrail\src\SkillTrail.Server
2025-09-20 23:48:06.126 +09:00 [INF] No SPA development server running at https://localhost:50742 found.
2025-09-20 23:48:06.485 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 23:48:06.697 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 214.0301ms
2025-09-20 23:48:06.767 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 23:48:06.783 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 16.7033ms
2025-09-20 23:48:06.811 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 23:48:06.820 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.2069ms
2025-09-20 23:48:06.836 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 23:48:06.877 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8299ms
2025-09-20 23:48:06.968 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 23:48:07.121 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.1946ms
2025-09-20 23:48:11.571 +09:00 [INF] SPA development server running at 'https://localhost:50742'
2025-09-20 23:48:53.360 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - application/json null
2025-09-20 23:48:53.372 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:48:53.393 +09:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:48:53.567 +09:00 [INF] 現在のユーザー情報取得を開始
2025-09-20 23:48:53.569 +09:00 [INF] 現在のユーザー情報を取得: manager
2025-09-20 23:48:54.383 +09:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[GroupId], [u].[Name], [u].[Role], [u].[UpdateDateTime], [u].[UpdateUserId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-09-20 23:48:54.441 +09:00 [INF] 現在のユーザー情報を正常に取得: manager, システム管理者
2025-09-20 23:48:54.447 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[SkillTrail.Biz.Entites.User, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-20 23:48:54.480 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server) in 1079.9956ms
2025-09-20 23:48:54.483 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.GetCurrentUser (SkillTrail.Server)'
2025-09-20 23:48:54.491 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/getCurrentUser - 200 null application/json; charset=utf-8 1137.6071ms
2025-09-20 23:48:56.193 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:48:56.200 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:48:56.206 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:48:56.309 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:48:56.318 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:48:56.327 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 117.3075ms
2025-09-20 23:48:56.330 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:48:56.333 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 139.2197ms
2025-09-20 23:49:00.773 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/progress/update - application/json 112
2025-09-20 23:49:00.778 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:49:00.786 +09:00 [INF] Route matched with {action = "Update", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(SkillTrail.Server.Controllers.UpdateProgressRequest) on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:49:00.871 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__taskId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__taskId_0 AND [p].[UserId] = @__userId_1
2025-09-20 23:49:00.886 +09:00 [INF] トランザクションが開始されました
2025-09-20 23:49:00.973 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__progress_TaskId_0='?' (Size = 450), @__progress_UserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__progress_TaskId_0 AND [p].[UserId] = @__progress_UserId_1
2025-09-20 23:49:01.056 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Progresses] SET [Status] = @p0, [UpdateDateTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-20 23:49:01.070 +09:00 [INF] トランザクションがコミットされました
2025-09-20 23:49:01.079 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:49:01.083 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server) in 292.8711ms
2025-09-20 23:49:01.085 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:49:01.087 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/progress/update - 200 null application/json; charset=utf-8 313.7508ms
2025-09-20 23:49:01.095 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:49:01.099 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:49:01.100 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:49:01.112 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:49:01.116 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:49:01.119 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 16.0663ms
2025-09-20 23:49:01.121 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:49:01.122 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 27.1312ms
2025-09-20 23:49:18.882 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:49:18.887 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:49:18.890 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:49:18.902 +09:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:49:18.906 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:49:18.908 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 15.0654ms
2025-09-20 23:49:18.910 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:49:18.912 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 29.6613ms
2025-09-20 23:50:47.292 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/index.html - null null
2025-09-20 23:50:47.305 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/index.html - 200 null text/html;charset=utf-8 12.8791ms
2025-09-20 23:50:47.361 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 23:50:47.366 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/_vs/browserLink - null null
2025-09-20 23:50:47.368 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.1339ms
2025-09-20 23:50:47.393 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.8961ms
2025-09-20 23:50:47.440 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - null null
2025-09-20 23:50:47.458 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5241/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.3111ms
2025-09-20 23:50:47.976 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:50:47.981 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:50:47.986 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:50:47.997 +09:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:50:48.002 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:50:48.007 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 17.3023ms
2025-09-20 23:50:48.009 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:50:48.011 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 35.2663ms
2025-09-20 23:50:50.480 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/progress/update - application/json 70
2025-09-20 23:50:50.485 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:50:50.489 +09:00 [INF] Route matched with {action = "Update", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(SkillTrail.Server.Controllers.UpdateProgressRequest) on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:50:50.498 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__taskId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__taskId_0 AND [p].[UserId] = @__userId_1
2025-09-20 23:50:50.501 +09:00 [INF] トランザクションを開始
2025-09-20 23:50:50.506 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__progress_TaskId_0='?' (Size = 450), @__progress_UserId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Note], [p].[Status], [p].[TaskId], [p].[UpdateDateTime], [p].[UpdateUserId], [p].[UserId]
FROM [Progresses] AS [p]
WHERE [p].[TaskId] = @__progress_TaskId_0 AND [p].[UserId] = @__progress_UserId_1
2025-09-20 23:50:50.513 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Progresses] SET [Status] = @p0, [UpdateDateTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-20 23:50:50.516 +09:00 [INF] トランザクションをコミット
2025-09-20 23:50:50.519 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result'.
2025-09-20 23:50:50.521 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server) in 29.3238ms
2025-09-20 23:50:50.524 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Update (SkillTrail.Server)'
2025-09-20 23:50:50.526 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/progress/update - 200 null application/json; charset=utf-8 46.0976ms
2025-09-20 23:50:50.534 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:50:50.538 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:50:50.539 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:50:50.544 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:50:50.548 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:50:50.550 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 8.6ms
2025-09-20 23:50:50.551 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:50:50.553 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 18.9201ms
2025-09-20 23:52:20.971 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/progress/get - null null
2025-09-20 23:52:20.984 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:52:20.986 +09:00 [INF] Route matched with {action = "Get", controller = "Progress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.ProgressController (SkillTrail.Server).
2025-09-20 23:52:20.996 +09:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Id]
    ELSE N''
END, [t].[Id], [t].[Title], CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Status]
    ELSE 1
END, CASE
    WHEN [p].[Id] IS NOT NULL THEN [p].[Note]
    ELSE N''
END
FROM [Tasks] AS [t]
LEFT JOIN [Progresses] AS [p] ON [t].[Id] = [p].[TaskId] AND @__userId_0 = [p].[UserId]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:52:21.000 +09:00 [INF] Executing OkObjectResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.ProgressQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:21.002 +09:00 [INF] Executed action SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server) in 13.4547ms
2025-09-20 23:52:21.004 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.ProgressController.Get (SkillTrail.Server)'
2025-09-20 23:52:21.007 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/progress/get - 200 null application/json; charset=utf-8 35.5968ms
2025-09-20 23:52:24.133 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/group/get - application/json null
2025-09-20 23:52:24.138 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:52:24.142 +09:00 [INF] Route matched with {action = "Get", controller = "Group"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.GroupController (SkillTrail.Server).
2025-09-20 23:52:24.156 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[UpdateDateTime], [g].[UpdateUserId]
FROM [Groups] AS [g]
2025-09-20 23:52:24.168 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Group, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:24.173 +09:00 [INF] Executed action SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server) in 28.344ms
2025-09-20 23:52:24.176 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:52:24.179 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/group/get - 200 null application/json; charset=utf-8 45.9871ms
2025-09-20 23:52:27.828 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/user/get - application/json null
2025-09-20 23:52:27.833 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:52:27.836 +09:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.UserController (SkillTrail.Server).
2025-09-20 23:52:27.841 +09:00 [INF] ユーザー一覧取得を開始
2025-09-20 23:52:27.861 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Role], [u].[GroupId], [g].[Name] AS [GroupName]
FROM [Users] AS [u]
LEFT JOIN [Groups] AS [g] ON [u].[GroupId] = [g].[Id]
2025-09-20 23:52:27.865 +09:00 [INF] ユーザー一覧を取得: 26件
2025-09-20 23:52:27.866 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Interfaces.UserQueryServiceModel, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:27.870 +09:00 [INF] Executed action SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server) in 30.4762ms
2025-09-20 23:52:27.872 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.UserController.Get (SkillTrail.Server)'
2025-09-20 23:52:27.874 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/user/get - 200 null application/json; charset=utf-8 46.0572ms
2025-09-20 23:52:33.228 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - null null
2025-09-20 23:52:33.233 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 23:52:33.238 +09:00 [INF] Route matched with {action = "Get", controller = "TaskCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskCategoryController (SkillTrail.Server).
2025-09-20 23:52:33.253 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [TaskCategories] AS [t]
ORDER BY [t].[Order]
2025-09-20 23:52:33.270 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.TaskCategory, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:33.277 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server) in 35.8563ms
2025-09-20 23:52:33.279 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 23:52:33.281 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - 200 null application/json; charset=utf-8 53.0288ms
2025-09-20 23:52:33.313 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 23:52:33.317 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:52:33.322 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 23:52:33.338 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:52:33.349 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:33.354 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 28.4205ms
2025-09-20 23:52:33.356 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:52:33.357 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 44.6451ms
2025-09-20 23:52:35.647 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/group/get - application/json null
2025-09-20 23:52:35.652 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:52:35.654 +09:00 [INF] Route matched with {action = "Get", controller = "Group"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.GroupController (SkillTrail.Server).
2025-09-20 23:52:35.661 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[UpdateDateTime], [g].[UpdateUserId]
FROM [Groups] AS [g]
2025-09-20 23:52:35.664 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Group, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:35.666 +09:00 [INF] Executed action SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server) in 9.8894ms
2025-09-20 23:52:35.668 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.GroupController.Get (SkillTrail.Server)'
2025-09-20 23:52:35.670 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/group/get - 200 null application/json; charset=utf-8 23.1492ms
2025-09-20 23:52:36.548 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - null null
2025-09-20 23:52:36.549 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 23:52:36.553 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 23:52:36.556 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:52:36.557 +09:00 [INF] Route matched with {action = "Get", controller = "TaskCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskCategoryController (SkillTrail.Server).
2025-09-20 23:52:36.558 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 23:52:36.565 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [TaskCategories] AS [t]
ORDER BY [t].[Order]
2025-09-20 23:52:36.574 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.TaskCategory, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:36.576 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server) in 15.8066ms
2025-09-20 23:52:36.581 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskCategoryController.Get (SkillTrail.Server)'
2025-09-20 23:52:36.581 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:52:36.583 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/taskCategory/get - 200 null application/json; charset=utf-8 34.893ms
2025-09-20 23:52:36.586 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:36.592 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 27.8548ms
2025-09-20 23:52:36.594 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:52:36.595 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 46.6453ms
2025-09-20 23:52:43.347 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/task/getByCategory - application/json 53
2025-09-20 23:52:43.350 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.GetByCategory (SkillTrail.Server)'
2025-09-20 23:52:43.354 +09:00 [INF] Route matched with {action = "GetByCategory", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCategory(GetByCategoryRequest) on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 23:52:43.368 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__categoryId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0
ORDER BY [t].[Order]
2025-09-20 23:52:43.372 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:43.373 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.GetByCategory (SkillTrail.Server) in 16.3389ms
2025-09-20 23:52:43.376 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.GetByCategory (SkillTrail.Server)'
2025-09-20 23:52:43.377 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/task/getByCategory - 200 null application/json; charset=utf-8 30.4508ms
2025-09-20 23:52:47.044 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:50742/api/task/get - null null
2025-09-20 23:52:47.049 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:52:47.050 +09:00 [INF] Route matched with {action = "Get", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 23:52:47.056 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
INNER JOIN [TaskCategories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
ORDER BY [t0].[Order], [t].[Order]
2025-09-20 23:52:47.059 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:47.061 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server) in 8.6434ms
2025-09-20 23:52:47.063 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.Get (SkillTrail.Server)'
2025-09-20 23:52:47.065 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:50742/api/task/get - 200 null application/json; charset=utf-8 20.2671ms
2025-09-20 23:52:47.723 +09:00 [INF] Request starting HTTP/1.1 POST http://localhost:50742/api/task/getByCategory - application/json 53
2025-09-20 23:52:47.727 +09:00 [INF] Executing endpoint 'SkillTrail.Server.Controllers.TaskController.GetByCategory (SkillTrail.Server)'
2025-09-20 23:52:47.728 +09:00 [INF] Route matched with {action = "GetByCategory", controller = "Task"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCategory(GetByCategoryRequest) on controller SkillTrail.Server.Controllers.TaskController (SkillTrail.Server).
2025-09-20 23:52:47.734 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__categoryId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Description], [t].[Order], [t].[Title], [t].[UpdateDateTime], [t].[UpdateUserId]
FROM [Tasks] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0
ORDER BY [t].[Order]
2025-09-20 23:52:47.738 +09:00 [INF] Executing JsonResult, writing value of type 'SkillTrail.Biz.Result`1[[System.Collections.Generic.IList`1[[SkillTrail.Biz.Entites.Task, SkillTrail.Biz, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 23:52:47.740 +09:00 [INF] Executed action SkillTrail.Server.Controllers.TaskController.GetByCategory (SkillTrail.Server) in 9.0925ms
2025-09-20 23:52:47.742 +09:00 [INF] Executed endpoint 'SkillTrail.Server.Controllers.TaskController.GetByCategory (SkillTrail.Server)'
2025-09-20 23:52:47.745 +09:00 [INF] Request finished HTTP/1.1 POST http://localhost:50742/api/task/getByCategory - 200 null application/json; charset=utf-8 21.9617ms
